<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Shell</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Google Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Edu+TAS+Beginner&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script>
        // Configure Tailwind CSS with our custom blue color
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'custom-blue': '#5D78A4',
                    },
                    aspectRatio: {
                        '4/5': '4 / 5',
                    },
                }
            }
        }
    </script>
    <style>
        /* Apply the Inter font family for body text */
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Making the scrollbar invisible for a cleaner app look */
        .app-screen::-webkit-scrollbar {
            width: 0;
            height: 0;
            background: transparent;
        }
        .app-screen {
            scrollbar-width: none; /* For Firefox */
        }


        /* Enable smooth scrolling behavior */
        html {
            scroll-behavior: smooth;
        }
        
        /* Custom styles for the quiz game */
        .quiz-option {
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        .quiz-option.correct {
            background-color: #d1fae5 !important; /* Green-100 */
            border-color: #10b981 !important; /* Green-500 */
            color: #047857; /* Green-700 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2 !important; /* Red-100 */
            border-color: #ef4444 !important; /* Red-500 */
            color: #b91c1c; /* Red-800 */
        }
        .quiz-option:disabled {
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen text-black">

    <!-- 
      This is the main container for our app.
    -->
    <div id="app-container" class="w-full h-screen bg-white overflow-hidden flex flex-col 
                                   md:max-w-sm md:h-[85vh] md:max-h-[800px] md:rounded-3xl 
                                   md:shadow-2xl md:border-4 md:border-black">

        <!-- App Header -->
        <header class="flex items-center justify-center p-4 border-b border-gray-200 flex-shrink-0">
            <h1 class="text-3xl font-bold text-custom-blue" style="font-family: 'Dancing Script', cursive;">#GaMe ON</h1>
        </header>

        <!-- Main Content Area: Now a single scrollable container with snapping -->
        <main id="main-content" class="flex-grow overflow-y-auto app-screen" style="scroll-snap-type: y mandatory;">
            
            <!-- Each section is a full-height, snap-aligned container -->
            
            <!-- Preview Section -->
            <section id="preview-section" class="page-section h-full flex flex-col items-center justify-end p-6 pb-16 text-center" style="scroll-snap-align: start;">
                <h2 class="text-4xl font-bold text-center text-black" style="font-family: 'Edu TAS Beginner', cursive;">Save The Date</h2>
                <p class="mt-4 text-center text-5xl text-custom-blue" style="font-family: 'Dancing Script', cursive;">12 November, 2025</p>
            </section>

            <!-- Invite Section -->
            <section id="invite-section" class="page-section h-full flex flex-col items-center justify-end p-6 pb-16 text-center" style="scroll-snap-align: start;">
                <h2 class="text-4xl font-bold text-custom-blue whitespace-nowrap" style="font-family: 'Edu TAS Beginner', cursive;">Mehak & Gautam</h2>
                <p id="invite-text" class="mt-4 text-lg text-gray-700 max-w-xs">Join us in celebrating love, laughter & happily ever after</p>
                <div id="countdown-container" class="flex items-center justify-center space-x-2 md:space-x-4 mt-8">
                    <!-- Days -->
                    <div class="text-center">
                        <div id="days" class="text-4xl font-bold p-3 md:p-4 bg-white rounded-lg text-custom-blue w-20">00</div>
                        <div class="text-sm uppercase text-gray-500 mt-1">Days</div>
                    </div>
                    <div class="text-4xl font-bold text-custom-blue pb-6">:</div>
                    <!-- Hours -->
                    <div class="text-center">
                        <div id="hours" class="text-4xl font-bold p-3 md:p-4 bg-white rounded-lg text-custom-blue w-20">00</div>
                        <div class="text-sm uppercase text-gray-500 mt-1">Hours</div>
                    </div>
                    <div class="text-4xl font-bold text-custom-blue pb-6">:</div>
                    <!-- Minutes -->
                    <div class="text-center">
                        <div id="minutes" class="text-4xl font-bold p-3 md:p-4 bg-white rounded-lg text-custom-blue w-20">00</div>
                        <div class="text-sm uppercase text-gray-500 mt-1">Minutes</div>
                    </div>
                </div>
            </section>

            <!-- Couple Section -->
            <section id="couple-section" class="page-section h-full flex flex-col items-center justify-center p-6" style="scroll-snap-align: start;">
                <h2 class="text-2xl font-bold text-center text-custom-blue" style="font-family: 'Edu TAS Beginner', cursive;">Couple</h2>
                <p class="mt-4 text-center">Information about the couple.</p>
            </section>

            <!-- Functions Section -->
            <section id="functions-section" class="page-section h-full flex flex-col items-center justify-center p-6" style="scroll-snap-align: start;">
                 <h2 class="text-2xl font-bold text-center text-custom-blue flex-shrink-0 mb-4" style="font-family: 'Edu TAS Beginner', cursive;">Functions</h2>
                 
                 <div class="w-full flex-grow relative flex items-center justify-center">
                    <!-- Slideshow Container - Populated by JavaScript -->
                    <div id="functions-slider" class="w-full h-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth app-screen">
                        <!-- Slides will be injected here -->
                    </div>

                    <!-- Navigation Arrows -->
                    <button id="prev-function-btn" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/50 rounded-full p-2 text-black hover:bg-white transition-all ml-1 z-10"><span class="material-icons">chevron_left</span></button>
                    <button id="next-function-btn" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/50 rounded-full p-2 text-black hover:bg-white transition-all mr-1 z-10"><span class="material-icons">chevron_right</span></button>
                 </div>
                 
                 <!-- Dot Indicators -->
                 <div id="function-dots" class="flex space-x-2 mt-4"></div>
            </section>

            <!-- Games Section -->
            <section id="games-section" class="page-section h-full flex flex-col items-center justify-center p-6" style="scroll-snap-align: start;">
                <div id="quiz-container" class="w-full max-w-md mx-auto">
                    <div id="question-wrapper" class="w-full">
                        <h2 class="text-2xl font-bold text-center text-custom-blue mb-2" style="font-family: 'Edu TAS Beginner', cursive;">How Well Do You Know Mehak?</h2>
                        <p id="question-text" class="text-center font-semibold text-lg my-6"></p>
                        <div id="options-container" class="space-y-3"></div>
                        <div class="mt-6 text-center">
                            <button id="next-button" class="hidden bg-custom-blue text-white font-bold py-2 px-6 rounded-full hover:bg-blue-500 transition-colors">Next</button>
                        </div>
                    </div>
                    <div id="results-wrapper" class="hidden text-center">
                         <h2 class="text-2xl font-bold text-center text-custom-blue mb-4" style="font-family: 'Edu TAS Beginner', cursive;">Quiz Complete!</h2>
                         <p id="score-text" class="text-4xl font-bold mb-2"></p>
                         <p id="result-message" class="text-lg text-gray-700 mb-6"></p>
                         <button id="restart-button" class="bg-custom-blue text-white font-bold py-2 px-6 rounded-full hover:bg-blue-500 transition-colors">Play Again</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- App Navigation / Footer -->
        <footer class="flex justify-around items-center p-3 border-t border-gray-200 flex-shrink-0 bg-white">
            <!-- Invite Button -->
            <button onclick="scrollToSection('invite-section')" data-section="invite-section" class="nav-button flex flex-col items-center p-2 rounded-lg text-black hover:text-custom-blue transition-colors">
                <span class="material-icons">mail</span>
                <span class="text-xs font-medium">Invite</span>
            </button>
            <!-- Couple Button -->
            <button onclick="scrollToSection('couple-section')" data-section="couple-section" class="nav-button flex flex-col items-center p-2 rounded-lg text-black hover:text-custom-blue transition-colors">
                <span class="material-icons">favorite</span>
                <span class="text-xs font-medium">Couple</span>
            </button>
            <!-- Functions Button -->
            <button onclick="scrollToSection('functions-section')" data-section="functions-section" class="nav-button flex flex-col items-center p-2 rounded-lg text-black hover:text-custom-blue transition-colors">
                <span class="material-icons">celebration</span>
                <span class="text-xs font-medium">Functions</span>
            </button>
            <!-- Games Button -->
            <button onclick="scrollToSection('games-section')" data-section="games-section" class="nav-button flex flex-col items-center p-2 rounded-lg text-black hover:text-custom-blue transition-colors">
                <span class="material-icons">extension</span>
                <span class="text-xs font-medium">Games</span>
            </button>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Navigation and Scrolling Logic ---
            const sections = document.querySelectorAll('.page-section');
            const navButtons = document.querySelectorAll('.nav-button');
            const mainContent = document.getElementById('main-content');

            function scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.scrollIntoView({ behavior: 'smooth' });
                }
            }
            
            // This is a global function now so the onclick attributes can find it
            window.scrollToSection = scrollToSection;

            const sectionObserverOptions = {
                root: mainContent,
                rootMargin: '0px',
                threshold: 0.7 
            };

            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;
                        navButtons.forEach(button => {
                            if (button.dataset.section === sectionId) {
                                button.classList.add('text-custom-blue');
                                button.classList.remove('text-black');
                            } else {
                                button.classList.remove('text-custom-blue');
                                button.classList.add('text-black');
                            }
                        });
                    }
                });
            }, sectionObserverOptions);

            sections.forEach(section => {
                sectionObserver.observe(section);
            });
            
            // --- Countdown Timer Logic ---
            const weddingDate = new Date('2025-11-12T00:00:00');
            const inviteText = document.getElementById('invite-text');
            const daysEl = document.getElementById('days');
            const hoursEl = document.getElementById('hours');
            const minutesEl = document.getElementById('minutes');

            function updateCountdown() {
                const now = new Date();
                const diff = weddingDate - now;

                if (diff > 0) { // Before the wedding
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    
                    daysEl.innerText = String(days).padStart(2, '0');
                    hoursEl.innerText = String(hours).padStart(2, '0');
                    minutesEl.innerText = String(minutes).padStart(2, '0');
                    inviteText.innerText = 'Join us in celebrating love, laughter & happily ever after';

                } else if (now.toDateString() === weddingDate.toDateString()) { // On the wedding day
                    daysEl.innerText = '00';
                    hoursEl.innerText = '00';
                    minutesEl.innerText = '00';
                    inviteText.innerText = 'The big day is today!';
                } else { // After the wedding
                    const countUpDiff = now - weddingDate;
                    const days = Math.floor(countUpDiff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((countUpDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((countUpDiff % (1000 * 60 * 60)) / (1000 * 60));

                    daysEl.innerText = String(days).padStart(2, '0');
                    hoursEl.innerText = String(hours).padStart(2, '0');
                    minutesEl.innerText = String(minutes).padStart(2, '0');
                    inviteText.innerText = 'Living a happy life together since';
                }
            }
            setInterval(updateCountdown, 1000);
            updateCountdown();


            // --- Functions Slideshow Logic ---
            const slider = document.getElementById('functions-slider');
            const prevBtn = document.getElementById('prev-function-btn');
            const nextBtn = document.getElementById('next-function-btn');
            const dotsContainer = document.getElementById('function-dots');

            const functionDetails = {
                'mehandi': { icon: 'spa', title: 'Mehandi Lunch', dateTime: '11th Nov, Noon', venue: 'Pearl Hall', theme: 'Rani Pink & Orange theme', mapLink: 'https://maps.app.goo.gl/PKSrMmETdSkKjdLw6', imageUrl: 'https://kapilatgoogle.github.io/wedding-invite/mehendi-ceremony.jpg', color: '#658c35' },
                'ring': { icon: 'diamond', title: 'Ring Ceremony', dateTime: '11th Nov, 7 PM onwards', venue: 'Amber Hall', theme: 'Starry night: Navy blue, gold, silver & disco balls', mapLink: 'https://maps.app.goo.gl/PKSrMmETdSkKjdLw6', imageUrl: 'https://kapilatgoogle.github.io/wedding-invite/ring-ceremony.jpg', color: '#5d78a4' },
                'haldi': { icon: 'filter_vintage', title: 'Haldi Function', dateTime: '12th Nov, 11 AM', venue: 'Pool Side', theme: 'Sunflower yellow & lavender theme', mapLink: 'https://maps.app.goo.gl/PKSrMmETdSkKjdLw6', imageUrl: 'https://kapilatgoogle.github.io/wedding-invite/haldi-ceremony.jpg', color: '#E5A77E' },
                'wedding': { icon: 'local_florist', title: 'Wedding Day', dateTime: '12th Nov, 7 PM onwards', venue: 'Palm Court', theme: 'Ivory, Royal red/maroon, and gold theme', mapLink: 'https://maps.app.goo.gl/PKSrMmETdSkKjdLw6', imageUrl: 'https://kapilatgoogle.github.io/wedding-invite/wedding-ceremony.jpg', color: '#C71585' }
            };

            Object.values(functionDetails).forEach(details => {
                const slideHTML = `
                    <div class="function-slide w-full h-full flex-shrink-0 snap-center flex items-center justify-center p-4">
                        <div class="w-full max-w-xs h-[95%] bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                            <div class="p-6 text-center flex-shrink-0">
                                <span class="material-icons text-4xl" style="color: ${details.color};">${details.icon}</span>
                                <h3 class="text-2xl font-bold mt-2" style="font-family: 'Edu TAS Beginner', cursive; color: ${details.color};">${details.title}</h3>
                                <p class="text-md mt-2 font-semibold">${details.dateTime}</p>
                                <p class="text-sm mt-1 text-gray-600">${details.venue}</p>
                                <p class="text-sm mt-2 text-gray-500 italic">"${details.theme}"</p>
                                <a href="${details.mapLink}" target="_blank" class="mt-4 inline-flex items-center justify-center px-5 py-2 rounded-lg font-semibold text-white transition-colors" style="background-color: ${details.color};">
                                    <span class="material-icons mr-2">map</span>
                                    View Map
                                </a>
                            </div>
                            <div class="flex-grow bg-cover bg-center" style="background-image: url('${details.imageUrl}')"></div>
                        </div>
                    </div>
                `;
                slider.insertAdjacentHTML('beforeend', slideHTML);
            });
            
            const slides = document.querySelectorAll('.function-slide');
            let currentFunctionSlideIndex = 0;
            let autoSlideInterval;

            const startAutoSlide = () => {
                clearInterval(autoSlideInterval); 
                autoSlideInterval = setInterval(() => {
                    const nextIndex = (currentFunctionSlideIndex + 1) % slides.length;
                    slider.scrollTo({
                        left: slider.offsetWidth * nextIndex,
                        behavior: 'smooth'
                    });
                }, 5000);
            };

            slides.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.classList.add('w-2', 'h-2', 'rounded-full', 'bg-gray-300', 'transition-all', 'duration-300');
                dot.addEventListener('click', () => {
                    slider.scrollTo({
                        left: slider.offsetWidth * index,
                        behavior: 'smooth'
                    });
                    startAutoSlide();
                });
                dotsContainer.appendChild(dot);
            });
            const dots = Array.from(dotsContainer.children);

            const updateSliderUI = (currentIndex) => {
                currentFunctionSlideIndex = currentIndex;
                dots.forEach((dot, index) => {
                    dot.classList.toggle('bg-custom-blue', index === currentIndex);
                    dot.classList.toggle('bg-gray-300', index !== currentIndex);
                });
                prevBtn.disabled = currentIndex === 0;
                nextBtn.disabled = currentIndex === slides.length - 1;
                prevBtn.style.opacity = currentIndex === 0 ? '0.5' : '1';
                nextBtn.style.opacity = currentIndex === slides.length - 1 ? '0.5' : '1';
            };
            
            const slideObserver = new IntersectionObserver((entries) => {
                 entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const intersectingSlide = entry.target;
                        const index = Array.from(slides).indexOf(intersectingSlide);
                        updateSliderUI(index);
                    }
                });
            }, { root: slider, threshold: 0.5 });
            
            slides.forEach(slide => slideObserver.observe(slide));

            prevBtn.addEventListener('click', () => {
                slider.scrollBy({ left: -slider.offsetWidth, behavior: 'smooth' });
                startAutoSlide();
            });
            nextBtn.addEventListener('click', () => {
                slider.scrollBy({ left: slider.offsetWidth, behavior: 'smooth' });
                startAutoSlide();
            });
            
            startAutoSlide();

            // --- Game Logic ---
            const quizData = [
                { question: "Which of these is a true fact about Mehak?", options: ["Has packed outfits for an international trip basis weather for the day, place of visit and timing of the sight seeing ( morning , twilight or night )", "One of her instagram singing videos got viral when it was reshared by Jonita", "Has played cricket only once, got injured without batting a bowl or even bowling one. Has never dared to play again"], answer: "One of her instagram singing videos got viral when it was reshared by Jonita" },
                { question: "What is Mehak most likely to order on a cheat day?", options: ["Margherita Pizza 🍕", "Aloo tikki Chaat 🌶️", "Nutella strawberry crepes 🍓🍫", "Chilli garlic noodles 🍜"], answer: "Nutella strawberry crepes 🍓🍫" },
                { question: "What's her all time favourite song?", options: ["Aao kabhi haveli pe", "Mayya Mayya", "Lag ja gale", "Baahon ke darmiyan"], answer: "Lag ja gale" },
                { question: "Which of these is her ideal weekend plan?", options: ["Netflix & Chill 📺", "Dancing till 2 AM 💃", "Road trip with friends 🚗", "Painting, music and food at home 🎨🎶"], answer: "Painting, music and food at home 🎨🎶" },
                { question: "Mehak’s guilty pleasure show/movie would be?", options: ["Jab we met 🎬", "F.R.I.E.N.D.S. T📺", "The Ugly truth", "Sarabhai vs Sarabhai 💁🏻‍♀️"], answer: "Jab we met 🎬" },
                { question: "What’s the one thing she always carries in her bag?", options: ["Perfume", "Lip balm 💄", "Sunglasses 🕶️", "Hand sanitizer"], answer: "Perfume" },
                { question: "What is Mehak’s go-to dance move at a party?", options: ["Bhangra hands up 🙌", "Bollywood thumka 💃", "Freestyle groove ✨", "All the above"], answer: "All the above" },
                { question: "What’s her favorite way to start the day?", options: ["A morning walk 🚶‍♀️", "A cup of coffee ☕", "Scrolling Instagram 📱", "Snoozing the alarm… again ⏰"], answer: "A morning walk 🚶‍♀️" },
                { question: "If she had to pick a dream vacation, where would it be?", options: ["Paris for the fashion & romance 🇫🇷", "Bali for the beaches 🏝️", "Italy for the food 🍕", "Iceland for the views 🏔️"], answer: "Iceland for the views 🏔️" },
                { question: "What is Mehak's strength in a group project?", options: ["Connections and bonding👩‍💼", "Teaching new joiners 👩‍🏫", "Writing strong mails when things go wrong", "Multitasking"], answer: "Writing strong mails when things go wrong" }
            ];

            const questionWrapper = document.getElementById('question-wrapper');
            const resultsWrapper = document.getElementById('results-wrapper');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const nextButton = document.getElementById('next-button');
            const scoreText = document.getElementById('score-text');
            const resultMessage = document.getElementById('result-message');
            const restartButton = document.getElementById('restart-button');

            let currentQuestionIndex = 0;
            let score = 0;

            function startQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                questionWrapper.classList.remove('hidden');
                resultsWrapper.classList.add('hidden');
                nextButton.classList.add('hidden');
                showQuestion();
            }

            function showQuestion() {
                resetState();
                const currentQuestion = quizData[currentQuestionIndex];
                questionText.innerText = currentQuestion.question;
                
                currentQuestion.options.forEach(option => {
                    const button = document.createElement('button');
                    button.innerText = option;
                    button.classList.add('quiz-option', 'w-full', 'p-3', 'border-2', 'rounded-lg', 'text-left', 'hover:bg-blue-50', 'hover:border-custom-blue');
                    button.addEventListener('click', selectOption);
                    optionsContainer.appendChild(button);
                });
            }

            function resetState() {
                nextButton.classList.add('hidden');
                while (optionsContainer.firstChild) {
                    optionsContainer.removeChild(optionsContainer.firstChild);
                }
            }

            function selectOption(e) {
                const selectedButton = e.target;
                const correct = selectedButton.innerText === quizData[currentQuestionIndex].answer;
                if (correct) {
                    score++;
                }
                
                Array.from(optionsContainer.children).forEach(button => {
                    if (button.innerText === quizData[currentQuestionIndex].answer) {
                        button.classList.add('correct');
                    } else {
                         button.classList.add('opacity-50');
                    }
                    if (button === selectedButton && !correct) {
                        button.classList.add('incorrect');
                    }
                    button.disabled = true;
                });
                
                nextButton.classList.remove('hidden');
            }

            function showResults() {
                questionWrapper.classList.add('hidden');
                resultsWrapper.classList.remove('hidden');
                scoreText.innerText = `${score} / ${quizData.length}`;
                if (score <= 3) {
                    resultMessage.innerText = "You barely know Mehak 😅";
                } else if (score <= 7) {
                    resultMessage.innerText = "Pretty good!";
                } else {
                    resultMessage.innerText = "You’re basically her BFF 💕";
                }
            }

            nextButton.addEventListener('click', () => {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            });

            restartButton.addEventListener('click', startQuiz);
            
            startQuiz(); 
        });
    </script>
</body>
</html>

